<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>TRABAJO A UN CLIC</title>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta name="description" content=""/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="stylesheet" href="css/gestionar_trabajador.css"/>
        <link rel="stylesheet" href="css/inicio_empleado.css"/>
        
        <link rel="icon" href="images/logos/logo2.png" />
        <script src="https://kit.fontawesome.com/8d2aecdc46.js" crossorigin="anonymous"></script>
    </h:head>
    <h:body>
        
          <header>
                <div class="item item-1">
                <nav>
                <section>
                    <a href="faces/index.xhtml" class="enlace-logo">
                        <img src="images/logos/logo.png" alt="Imagen Logo"/>
                    </a>
                    <a href="faces/index.xhtml" class="title-tauc">tauc</a>  
                </section>
                </nav>
                </div> 
            <div class="header2">
                <div class="house-icon">
                    <div class="icon-inicio">
                        <a href="faces/index.xhtml"><img src="images/iconos/inicio.png"></img></a>
                        <a class="title-inicio" href="index.xhtml">INICIO</a>
                    </div>
                </div>
                    <div class="foto-perfil-empleado">
                        <img src="images/fotos/foto_perfil_empleado.jpg"></img>
                        <a href="faces/perfil_empleado.xhtml">MI PERFIL</a>
                    </div>
                    <div class="cambiar-clave-empleado">
                        <a href="faces/cambiar_clave_empleado.xhtml">CAMBIAR CLAVE</a>
                    </div>
                    <div class="cerrar-sesion-empleado">
                        <img src="images/iconos/cerrar-sesion.png"></img>
                        <a href="faces/index.xhtml">CERRAR SESIÓN</a>
                    </div>
                    

            </div>
        </header>
             
        <main>
             
            <div class="container-gestionar_trabajador">
              
                <div class="side-t">
                    <img src="images/fotos/menu.png"></img>
                    <div class="menu-side-t"> <div class="opciones-menu-t">
                            <div class="title-menu-t">
                            <h3>MENÚ</h3>
                            </div>
                        <ul>
                            <div class="opciones-t">
                            <li><a href="faces/perfil_empleador.xhtml">Mi perfil</a></li> 
                            <li><a href="faces/ver_ofertas.xhtml">Ver ofertas laborales</a></li> 
                            <li><a href="faces/gestionar_postulaciones.xhtml">Mis postulaciones</a></li>
                            </div>
                        </ul>
                        </div>
                    </div> 
                </div>
                
            
            <!-- GESTIONAR POSTULACIONES-->
            
        <div class="main-gestionar-postulaciones">
            
            <h:form>
               <p:toolbar>
                   <p:toolbarGroup>
                       
                       <p:commandButton value="Nuevo" icon="ui-icon-plus" style="background-color: #398439; color: black;"  oncomplete="PF('crear').show();"/>
  
                   </p:toolbarGroup>       
               </p:toolbar>
               </h:form>  
            
           
            <h:form id="postulaciones">
                <p:fieldset>
                
                    <p:dataTable var="t" value="#{managedBeanTrabajador.listaTrabajador}" paginator="true" rows="5" 
                             widgetVar="TablaPostulacionBuscar" style=" font-size: small ;margin-bottom:20px">  
                  <br></br>
                <br></br>
                <f:facet name="header">
                    <p:outputPanel>
                        <h:outputText value="Buscar : "/>
                            <p:inputText id="globalFilter" onkeyup="PF('TablaPostulacionBuscar').filter()" placeholder="Ingrese la búsqueda" style="width: 150px"/>
                        
                   </p:outputPanel>
               </f:facet>  
                            
                <p:column headerText="Número de identificación" filterBy="${t.idTrabajador}" filterStyle="whidt:100px" filterMatchMode="contains" >
                    <h:outputText value="#{t.idTrabajador}"/>
                    </p:column>
                    
                    <p:column headerText="Nombres">
                        <h:outputText value="${t.nomTrabajador}"/>
                    </p:column>
                   
                    <p:column headerText="Apellidos">
                        <h:outputText value="${t.apeTrabajador}"/>
                    </p:column>
                    <p:column headerText="Sexo">
                        <h:outputText value="${t.sexoTrabajador}"/>
                    </p:column>
                  <p:column headerText="Teléfono">
                      <h:outputText value="${t.telTrabajador}"/>
                  </p:column>
                  <p:column headerText="Estado Civil">
                      <h:outputText value="${t.estadoCivil}"/>
                  </p:column>
                  <p:column headerText="Experiencia">
                      <h:outputText value="${t.experiencia}"/>
                  </p:column>
                     <p:column headerText="Correo Electrónico">
                         <h:outputText value="${t.correoTrabajador}"/>
                  </p:column>
                  
                    <p:column headerText="Contraseña">
                        <h:outputText value="${t.contrasenaT}}"/>
                  </p:column>
                    
                     <p:column headerText="Confirmar contraseña">
                         <h:outputText value="${t.confirmarContrasenaT}"/>
                  </p:column>
                
                <!--COLUMNA PARA MOSTRAR EL BOTON EDITAR-->
                 <p:column headerText="Editar">
                     <p:commandButton icon="ui-icon-pencil" style="width: 45px; margin-left: 10px;  background: #C3EEBA ;" actionListener="${managedBeanTrabajador.cargardatos_t(t)}"
                                   update=":t" oncomplete="PF('actualizar').show();"/>
                  </p:column>
                <!--COLUMNA PARA MOSTRAR EL BOTON ELIMINAR-->
                <p:column headerText="Eliminar">
                   <p:column headerText="Eliminar">
                    <p:commandButton icon=" ui-icon-trash" style="width: 40px; height:40px; margin-left: 18px; margin-top: 5px; background-color: #FCBBAF;" actionListener="${managedBeanTrabajador.eliminar_t(t)}"
                               update=":post" oncomplete="PF('validar_postu').show();"/>
                   </p:column>

                </p:column>  
                    
                </p:dataTable>
            </p:fieldset>
         </h:form>
                        
            
            <!-- VALIDAR ELIMINAR -->
            
             <p:growl id="msjo"/>     
         <p:dialog  widgetVar="validar_postu" showEffect="clip" header="Eliminar Postulación" resizable="false" >
                     <!--P:AJAX PERMITE LLAMAR A UN METODO PARA LIMPIAR EL FORMULARIO-->
                     <p:ajax event="close" listener="#{managedBeanTrabajador.limpiar_t()}" update="post"/> 

        
        
            <h:form id="post">
                
                <p:panelGrid columns="4">
         
                       <p:outputLabel value="¿Está seguro de eliminar esta publicación?"/>
                       
                       <p:commandButton value="SÍ" actionListener="#{managedBeanTrabajador.eliminar_t(t)}"
                        update=":postulaciones :msjo" oncomplete="PF('validar_postu').hide();"/>
                       
                       <p:commandButton value="NO" actionListener="$"/>
                       </p:panelGrid>
            </h:form>
            </p:dialog>          
                      
              
              <!--FORMULARIO PARA ACTUALIZAR POSTULACIONES-->
              <p:growl id="msj"/>     
         <p:dialog  widgetVar="actualizar" showEffect="clip" header="Actualizar registro" resizable="false" >
                     <!--P:AJAX PERMITE LLAMAR A UN METODO PARA LIMPIAR EL FORMULARIO-->
                     <p:ajax event="close" listener="#{managedBeanTrabajador.limpiar_t()}" update="t"/> 

        
        
            <h:form id="t">
                
                <p:panelGrid columns="4">
         
                       <p:outputLabel value="Identificación Trabajador"/>
                       <p:inputText value="${managedBeanTrabajador.trabajador.idTrabajador}" placeholder="Identificación Trabajador"></p:inputText>
                       
                       <p:outputLabel value="Nombres"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.nomTrabajador}" placeholder="Nombres"></p:inputText>
                       
                       <p:outputLabel value="Apellidos"/>                                    
                       <p:inputText value="#{managedBeanTrabajador.trabajador.apeTrabajador}" placeholder="Apellidos"/> 
                       
                       <p:outputLabel class="label" value="Sexo"/>
                       <p:selectOneMenu style="width:220px;" value="${managedBeanTrabajador.trabajador.sexoTrabajador}" required="true">
                            <f:selectItem  itemValue="1" itemLabel="Seleccionar" noSelectionOption="true" />
                            <f:selectItem itemValue="Femenino" itemLabel="Femenino"/>
                            <f:selectItem itemValue="Masculino" itemLabel="Masculino"/>
                            <f:selectItem itemValue="Otro" itemLabel="Otro"/>
                          </p:selectOneMenu>
                       
                       <p:outputLabel value="Teléfono"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.telTrabajador}" placeholder="Número de contacto"/> 
                       
                        <p:outputLabel class="label" value="Estado Civil"/>
                        <p:selectOneMenu style="width:220px;" value="${managedBeanTrabajador.trabajador.estadoCivil}"  required="true" >
                            <f:selectItem  itemValue="1" itemLabel="Seleccionar" noSelectionOption="true" />
                            <f:selectItem  itemValue="Casado(a)" itemLabel="Casado(a)"/>
                            <f:selectItem  itemValue="Soltero(a)" itemLabel="Soltero(a)"/>
                       </p:selectOneMenu>
                       
                        
                       <p:outputLabel value="Experiencia"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.experiencia}" placeholder="Recolector de café 3 años..."/> 
                       
                       <p:outputLabel value="Correo Electrónico"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.correoTrabajador}" placeholder="@gmail.com">
                       </p:inputText> 
                       
                       <p:outputLabel value="Contraseña"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.contrasenaT}" placeholder="Digite contraseña">
                       </p:inputText> 
                       
                       <p:outputLabel value="Confirmar contraseña"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.confirmarContrasenaT}" placeholder="Confirmar contraseña"/>
                       
                       <p:commandButton value="Guardar" actionListener="#{managedBeanTrabajador.actualizar_t()}"
                     update=":postulaciones  :msj" oncomplete="PF('actualizar').hide();"                   
                     rendered="#{managedBeanTrabajador.trabajador.idTrabajador!=0}"/>
                  </p:panelGrid>
            </h:form>
            </p:dialog>
              
              
              
                  <!--FORMULARIO PARA INSERTAR NUEVA OFERTA-->
              <p:growl id="msjn"/>     
         <p:dialog  widgetVar="crear" showEffect="clip" header="Nuevo registro" resizable="false" >
                     <!--P:AJAX PERMITE LLAMAR A UN METODO PARA LIMPIAR EL FORMULARIO-->
                     <p:ajax event="close" listener="#{managedBeanTrabajador.limpiar_t()}" update="n"/> 

        
        
            <h:form id="n">
                
                <p:panelGrid columns="4">
         
                       <p:outputLabel value="Identificación Trabajador"/>
                       <p:inputText value="${managedBeanTrabajador.trabajador.idTrabajador}" placeholder="Ingrese su identificación"></p:inputText>
                       
                       <p:outputLabel value="Nombres"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.nomTrabajador}" placeholder="Ingrese sus nombres"></p:inputText>
                       
                       <p:outputLabel value="Apellidos"/>                                    
                       <p:inputText value="#{managedBeanTrabajador.trabajador.apeTrabajador}" placeholder="Ingrese sus apellidos"/> 
                       
                       <p:outputLabel class="label" value="Sexo"/>
                       <p:selectOneMenu style="width:220px;" value="${managedBeanTrabajador.trabajador.sexoTrabajador}" required="true">
                            <f:selectItem  itemValue="1" itemLabel="Seleccionar" noSelectionOption="true" />
                            <f:selectItem itemValue="Femenino" itemLabel="Femenino"/>
                            <f:selectItem itemValue="Masculino" itemLabel="Masculino"/>
                            <f:selectItem itemValue="Otro" itemLabel="Otro"/>
                          </p:selectOneMenu>
                       
                       <p:outputLabel value="Teléfono"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.telTrabajador}" placeholder="Digite teléfono"/> 
                       
                        <p:outputLabel class="label" value="Estado Civil"/>
                        <p:selectOneMenu style="width:220px;" value="${managedBeanTrabajador.trabajador.estadoCivil}"  required="true" >
                            <f:selectItem  itemValue="1" itemLabel="Seleccionar" noSelectionOption="true" />
                            <f:selectItem  itemValue="Casado(a)" itemLabel="Casado(a)"/>
                            <f:selectItem  itemValue="Soltero(a)" itemLabel="Soltero(a)"/>
                       </p:selectOneMenu>
                       
                        
                       <p:outputLabel value="Experiencia"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.experiencia}" placeholder="2 años recogiendo café"/> 
                       
                       <p:outputLabel value="Correo Electrónico"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.correoTrabajador}" placeholder="juanes@gmail.com">
                       </p:inputText> 
                       
                       <p:outputLabel value="Contraseña"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.contrasenaT}" placeholder="Digite contraseña">
                       </p:inputText> 
                       
                       <p:outputLabel value="Confirmar contraseña"/>
                       <p:inputText value="#{managedBeanTrabajador.trabajador.confirmarContrasenaT}" placeholder="Confirmar contraseña"/>
                       
                       <p:commandButton value="Guardar" actionListener="#{managedBeanTrabajador.nuevo_t()}"
                     update=":postulaciones  :msjn" oncomplete="PF('crear').hide();"/>
                  </p:panelGrid>
            </h:form>
            </p:dialog>
        </div>
       </div>   
        </main>
        
        
        
        
          
           <footer>
            <div class="grupo1">
                <div class="box">
                    <img src="images/logos/logo.png"></img>
                    <a href="index.xhtml" class="title">Trabajo a un clic</a>
                </div>

                <div class="box">                   
                    <h2>Redes Sociales</h2>
                    <ul class="redes_sociales">
                        <li><a href="#"><i class="fa fa-brands fa-square-facebook"></i></a>Facebook</li>
                        <li><a href="#"><i class="fa fa-brands fa-instagram"></i></a>Instagram</li>
                        <li><a href="#"><i class="fa fa-regular fa-envelope"></i></a>Gmail</li>
                    </ul>
                </div>
                <div class="box">
                    <h3>Desarrolladores</h3>
                    <div class="numeros">
                        <a href="#"><i class="fa-fa fa-solid fa-user"></i></a>
                        <ul>
                            <li>Melissa Aguirre Galvis</li>
                            <li>Hector Cano Londoño</li>
                            <li>Gina Xiomara Pineda Marin</li>
                            <li>Maria José Zapata Carvajal</li>
                        </ul>
                    </div>
                </div>   
            </div>

            <div class="grupo2">
                <hr></hr>
                <small>&copy;2022<b> TAUC</b> Aviso de privacidad | Terminos y Condiciones</small>

            </div>
        </footer>
    </h:body>
</html>

